import{Controller as e}from"@hotwired/stimulus";(class extends e{}).debounces=[];(class extends e{}).throttles=[];const t={enterFromClass:"enter",enterActiveClass:"enterStart",enterToClass:"enterEnd",leaveFromClass:"leave",leaveActiveClass:"leaveStart",leaveToClass:"leaveEnd"},n={transitioned:!1,hiddenClass:"hidden",preserveOriginalClass:!0,removeToClasses:!0},s=(e,t={})=>{var s,a,o;const r=e,l=r.element.dataset.transitionTarget;let c;l&&(c=r[`${l}Target`]);const d=(null==t?void 0:t.element)||c||r.element;if(!(d instanceof HTMLElement||d instanceof SVGElement))return;const u=d.dataset,v=parseInt(u.leaveAfter||"")||t.leaveAfter||0,{transitioned:m,hiddenClass:h,preserveOriginalClass:g,removeToClasses:f}=Object.assign({},n,t),p=null===(s=r.enter)||void 0===s?void 0:s.bind(r),T=null===(a=r.leave)||void 0===a?void 0:a.bind(r),C=null===(o=r.toggleTransition)||void 0===o?void 0:o.bind(r);async function L(e){if(r.transitioned)return;r.transitioned=!0,p&&p(e);const n=i("enterFrom",t,u),s=i("enterActive",t,u),a=i("enterTo",t,u),o=i("leaveTo",t,u);h&&d.classList.remove(h),f||y(d,o),await A(d,n,s,a,h,g,f),v>0&&setTimeout((()=>{b(e)}),v)}async function b(e){if(!r.transitioned)return;r.transitioned=!1,T&&T(e);const n=i("leaveFrom",t,u),s=i("leaveActive",t,u),a=i("leaveTo",t,u),o=i("enterTo",t,u);f||y(d,o),await A(d,n,s,a,h,g,f),h&&d.classList.add(h)}function w(e){C&&C(e),r.transitioned?b():L()}async function A(e,t,n,s,i,a,o){const r=[];a&&(t.forEach((t=>e.classList.contains(t)&&t!==i&&r.push(t))),n.forEach((t=>e.classList.contains(t)&&t!==i&&r.push(t))),s.forEach((t=>e.classList.contains(t)&&t!==i&&r.push(t)))),E(e,t),y(e,r),E(e,n),await async function(){return new Promise((e=>{requestAnimationFrame((()=>{requestAnimationFrame(e)}))}))}(),y(e,t),E(e,s),await async function(e){return new Promise((t=>{const n=1e3*Number(getComputedStyle(e).transitionDuration.split(",")[0].replace("s",""));setTimeout((()=>{t(n)}),n)}))}(e),y(e,n),o&&y(e,s),E(e,r)}function E(e,t){t.length>0&&e.classList.add(...t)}function y(e,t){t.length>0&&e.classList.remove(...t)}return r.transitioned=m,m?(h&&d.classList.remove(h),L()):(h&&d.classList.add(h),b()),Object.assign(r,{enter:L,leave:b,toggleTransition:w}),[L,b,w]};function i(e,n,s){const i=`transition${e[0].toUpperCase()}${e.substr(1)}`,a=t[e],o=n[e]||s[i]||s[a]||" ";return 0!==(r=o).length&&r.trim()?o.split(" "):[];var r}const a=class extends e{connect(){s(this,{element:this.menuTarget})}toggle(){this.toggleTransition()}hide(e){!this.element.contains(e.target)&&!this.menuTarget.classList.contains("hidden")&&this.leave()}};a.targets=["menu"];let o=a;class r extends o{static values={open:Boolean};connect(){super.connect(),this.openValue&&this.enter()}}function l(e){e.register("irelia-dropdown",r)}export{l as registerIreliaControllers};
